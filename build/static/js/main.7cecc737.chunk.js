(window.webpackJsonpdemo_react_1=window.webpackJsonpdemo_react_1||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),u=(n(20),n(2)),i=function(e){var t=e.title;return r.a.createElement("h2",null,t)},l=function(e){var t=e.text;return r.a.createElement("label",null,t)},s=function(e){var t=e.handleChange,n=e.value;return r.a.createElement("input",{onChange:t,value:n})},m=function(e){var t=e.handleFilterChange,n=e.filter;return r.a.createElement("form",null,r.a.createElement(l,{text:"filter shown with:"}),r.a.createElement(s,{handleChange:t,value:n}))},d=function(e){var t=e.text,n=e.type,a=e.handleClick,c=e.id;return r.a.createElement("button",{id:c,onClick:a,type:n},t)},f=function(e){var t=e.addNew,n=e.handleNameChange,a=e.handlePhoneNumberChange,c=e.name,o=e.number;return r.a.createElement("form",{onSubmit:t},r.a.createElement(l,{text:"Name:"}),r.a.createElement(s,{handleChange:n,value:c}),r.a.createElement("br",null),r.a.createElement(l,{text:"Number:"}),r.a.createElement(s,{handleChange:a,value:o}),r.a.createElement("br",null),r.a.createElement(d,{type:"submit",text:"Add"}))},v=n(14),h=function(e){var t=e.contact,n=e.handleDeleteClick,a=e.toggleActive;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.number),r.a.createElement("td",null,r.a.createElement(d,{text:"X",handleClick:function(){return n(t.id)}})),r.a.createElement("td",null,r.a.createElement(d,{text:t.active?"deactivate":"activate",handleClick:function(){return a(t.id)}})))},b=n(3),g=n.n(b),p="/api/persons",E=function(){return g.a.get(p).then(function(e){return e.data})},y=function(e){return g.a.post(p,e).then(function(e){return e.data})},w=function(e,t){return g.a.put("".concat(p,"/").concat(e),t).then(function(e){return e.data})},O=function(e){return g.a.delete("".concat(p,"/").concat(e)).then(function(e){return e.data})};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var C=function(e){var t=e.contacts,n=e.filter,a=e.setContacts,c=e.messages,o=e.setMessages,u=0===n.length?t:t.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}),i=function(e){var n=t.find(function(t){return t.id===e}),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(v.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{active:!n.active});w(e,r).then(function(n){a(t.map(function(t){return t.id!==e?t:n}));var r={error:"",success:"".concat(n.name," is ").concat(n.active?"activated":"deactivated"," successfully")};o(c.concat(r)),setTimeout(function(){o([])},3e3)}).catch(function(e){var t={error:e.message,success:""};o(c.concat(t)),setTimeout(function(){o([])},3e3)})};return r.a.createElement("table",{className:"phonetable"},r.a.createElement("tbody",null,u.map(function(e){return r.a.createElement(h,{toggleActive:i,handleDeleteClick:function(){return function(e){var n=t.find(function(t){return t.id===e});window.confirm("Delete ".concat(n.name," ?"))&&O(e).then(function(r){a(t.filter(function(t){return t.id!==e}));var u={error:"",success:"".concat(n.name," is deleted successfully")};o(c.concat(u)),setTimeout(function(){o([])},3e3)}).catch(function(e){var t={error:"Information of ".concat(n.name," has already been removed from server"),success:""};o(c.concat(t)),setTimeout(function(){o([])},3e3)})}(e.id)},key:e.id,contact:e})})))},k=function(e){var t=e.messages,n={color:"red",fontSize:"20px",background:"lightgrey",borderRadius:"5px",borderStyle:"solid",padding:"10px",marginBottom:"10px"},a={color:"green",fontSize:"20px",background:"lightgrey",borderRadius:"10px",borderStyle:"solid",padding:"10px",marginBottom:"10px"};if(0===t.length)return[];return r.a.createElement("div",null,t.map(function(e,t){return console.log(e),""!==e.success?r.a.createElement("div",{key:t,style:a},r.a.createElement("div",{className:"success"},e.success)):""!==e.error?r.a.createElement("div",{key:t,style:n},r.a.createElement("div",{className:"error"},e.error)):void 0}))},x=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),s=l[0],d=l[1],v=Object(a.useState)([]),h=Object(u.a)(v,2),b=h[0],g=h[1],p=Object(a.useState)(""),w=Object(u.a)(p,2),O=w[0],j=w[1],x=Object(a.useState)([]),N=Object(u.a)(x,2),S=N[0],P=N[1];Object(a.useEffect)(function(){E().then(function(e){g(e)}).catch(function(e){var t={error:e.message,success:""};P(S.concat(t)),setTimeout(function(){P([])},3e3)})},[]);var D=function(e){var t=!1;return e.filter(function(e){return e.name===n}).length>0&&(t=!0),t},T=function(e){var t=!1;return""===e&&(t=!0),t},A={addNew:function(e){e.preventDefault();var t={name:n,number:s,active:!0};return T(n)?alert("Name cannot be blank"):T(s)?alert("Number cannot be blank"):D(b)?alert("".concat(n," already exist")):void y(t).then(function(e){console.log(e),g(b.concat(e)),c(""),d("");var n={error:"",success:"Added ".concat(t.name)};P(S.concat(n)),setTimeout(function(){P([])},3e3)}).catch(function(e){var t={error:e.message,success:""};P(S.concat(t)),setTimeout(function(){P([])},3e3)})},handleNameChange:function(e){c(e.target.value)},handlePhoneNumberChange:function(e){d(e.target.value)},name:n,number:s};return r.a.createElement("div",null,r.a.createElement(i,{title:"Phonebook"}),r.a.createElement(k,{messages:S}),r.a.createElement(m,{handleFilterChange:function(e){return j(e.target.value)},value:O}),r.a.createElement(C,{messages:S,setMessages:P,setContacts:g,contacts:b,filter:O}),r.a.createElement(i,{title:"add a new"}),r.a.createElement(f,A))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.7cecc737.chunk.js.map